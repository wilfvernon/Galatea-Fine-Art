@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600;700&family=Cinzel:wght@500;600&family=IM+Fell+English:ital@0;1&display=swap');

.login-container {
  --night: #070203;
  --night-edge: #010001;
  --ember-core: rgba(255, 95, 70, 0.46);
  --ember-soft: rgba(190, 34, 44, 0.24);
  --panel-top: #242129;
  --panel-mid: #1a1820;
  --panel-bot: #121019;
  --ink: #efe6df;
  --ink-soft: rgba(239, 230, 223, 0.74);
  --line: rgba(215, 150, 126, 0.58);
  --torch-top: 42%;
  --torch-left-x: calc(100% - var(--torch-right-x));
  --torch-left-offset-y: 0px;
  --torch-right-x: 97%;
  --torch-right-offset-y: 0px;
  --torch-y-shift: 8px;
  --torch-w: 126px;
  --torch-h: 188px;
  --torch-bg-left-x: calc(100% - var(--torch-bg-right-x));
  --torch-bg-right-x: 97%;
  --torch-bg-left-y: var(--torch-bg-right-y);
  --torch-bg-right-y: 49%;
  --torch-bg-w: 66px;
  --torch-bg-h: 116px;
  height: 100dvh;
  width: 100%;
  position: relative;
  overflow: hidden;
  background: var(--night);
  font-family: 'Cinzel', serif;
}

.login-container button,
.login-container input,
.login-container [role='button'] {
  -webkit-tap-highlight-color: transparent;
}

.login-container::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(80% 60% at 50% 102%, rgba(255, 218, 142, 0.3) 0%, rgba(238, 160, 62, 0.18) 34%, rgba(116, 48, 18, 0.06) 58%, rgba(0, 0, 0, 0) 74%),
    radial-gradient(circle at 50% 42%, rgba(122, 208, 142, 0.14) 0%, rgba(14, 26, 22, 0.52) 58%, rgba(3, 5, 6, 0.88) 100%);
  opacity: 0;
}

.login-container::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0;
  transform: translateY(100%);
  z-index: 5;
  background:
    radial-gradient(18% 14% at 6% 1.8%, rgba(255, 244, 196, 0.96) 0%, rgba(255, 196, 96, 0.88) 30%, rgba(244, 132, 44, 0.42) 60%, rgba(0, 0, 0, 0) 100%),
    radial-gradient(15% 11% at 16% 4.6%, rgba(255, 230, 168, 0.9) 0%, rgba(255, 182, 80, 0.76) 36%, rgba(226, 114, 38, 0.3) 62%, rgba(0, 0, 0, 0) 100%),
    radial-gradient(20% 16% at 29% 1.2%, rgba(255, 246, 202, 0.98) 0%, rgba(255, 202, 102, 0.9) 30%, rgba(240, 136, 46, 0.44) 60%, rgba(0, 0, 0, 0) 100%),
    radial-gradient(14% 10% at 40% 5.1%, rgba(255, 232, 172, 0.9) 0%, rgba(255, 184, 84, 0.74) 36%, rgba(224, 110, 36, 0.3) 64%, rgba(0, 0, 0, 0) 100%),
    radial-gradient(22% 18% at 54% 1.6%, rgba(255, 248, 206, 0.98) 0%, rgba(255, 206, 106, 0.92) 30%, rgba(244, 138, 48, 0.46) 62%, rgba(0, 0, 0, 0) 100%),
    radial-gradient(15% 12% at 66% 5.2%, rgba(255, 236, 178, 0.92) 0%, rgba(255, 188, 88, 0.78) 34%, rgba(228, 114, 38, 0.32) 64%, rgba(0, 0, 0, 0) 100%),
    radial-gradient(19% 15% at 80% 2.2%, rgba(255, 242, 192, 0.96) 0%, rgba(255, 194, 92, 0.84) 34%, rgba(236, 126, 42, 0.4) 62%, rgba(0, 0, 0, 0) 100%),
    radial-gradient(14% 10% at 92% 4.8%, rgba(255, 232, 170, 0.9) 0%, rgba(255, 186, 86, 0.76) 36%, rgba(224, 112, 36, 0.3) 64%, rgba(0, 0, 0, 0) 100%),
    linear-gradient(180deg, rgba(255, 236, 174, 0.88) 0%, rgba(255, 192, 90, 0.72) 5%, rgba(238, 130, 44, 0.44) 12%, rgba(112, 48, 18, 0.14) 22%, rgba(0, 0, 0, 0) 30%),
    linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(2, 1, 1, 0.48) 24%, rgba(0, 0, 0, 0.9) 34%, rgba(0, 0, 0, 1) 100%);
  filter: saturate(1.08) brightness(1.04) blur(0.4px);
  background-size: 100% 100%;
  background-position: 0 0;
}

.login-container.login-success-transition .portal-field {
  animation: none;
}

.login-container.login-success-transition .login-world {
  animation: none;
}

.login-container.login-success-transition::before {
  animation: none;
  opacity: 0;
  transform: translateY(100%);
}

.login-container.login-success-transition .login-world > :not(.embers-container),
.login-container.login-success-transition .portal-field > :not(.candlekeep-emblem),
.login-container.login-success-transition .portal-field::after {
  animation: login-success-noncrest-fade 2.08s ease-out 2.05s forwards;
}

.login-container.login-success-transition .login-void,
.login-container.login-success-transition .login-glow {
  animation: none;
}

.login-container.login-success-transition .portal-field::before {
  inset: 0;
  z-index: 0;
  opacity: 0;
  border-radius: 2px;
  background: #000;
  animation: login-success-backdrop-fill 0.2s ease-out 1.9s forwards;
}

.login-container.login-success-transition .embers-container {
  animation: login-success-embers-hold 3.56s ease-out forwards;
  z-index: 6;
}

.login-container.login-success-transition .candlekeep-emblem {
  z-index: 6;
}

.login-container.login-success-transition .crest-submit {
  animation: login-success-crest-hold 3.56s ease-out forwards;
}

.login-container.login-success-transition::after {
  animation: none;
  opacity: 0;
}

.login-world,
.login-void,
.stone-gate,
.login-texture,
.login-glow,
.torch-flickers,
.embers-container {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.login-void {
  background:
    radial-gradient(circle at 50% 18%, rgba(255, 106, 74, 0.24) 0%, rgba(20, 6, 8, 0.5) 40%, rgba(4, 2, 3, 0.88) 76%, var(--night-edge) 100%),
    radial-gradient(circle at 50% 97%, rgba(0, 0, 0, 0.94) 0%, transparent 68%),
    radial-gradient(circle at 5% 50%, rgba(0, 0, 0, 0.88) 0%, transparent 60%),
    radial-gradient(circle at 95% 50%, rgba(0, 0, 0, 0.88) 0%, transparent 60%);
  animation: candle-flicker 4.8s ease-in-out infinite;
}

.stone-gate {
  z-index: 0;
  background-image: url('/gate.png');
  background-size: 155% auto;
  background-position: center 34%;
  background-repeat: no-repeat;
  filter: saturate(0.86) brightness(0.44) contrast(1.08);
}

.login-texture {
  background:
    radial-gradient(circle, rgba(130, 30, 30, 0.12) 1px, transparent 2px),
    radial-gradient(circle, rgba(60, 10, 14, 0.2) 1px, transparent 2px);
  background-size: 200px 200px, 320px 320px;
  background-position: 0 0, 80px 120px;
  opacity: 0.06;
}

.login-glow {
  background:
    radial-gradient(circle at 50% 21%, rgba(255, 110, 80, 0.34) 0%, rgba(200, 34, 44, 0.14) 28%, transparent 48%);
  opacity: 0.65;
  animation: glow-breathe 3.8s ease-in-out infinite;
}

.torch-flickers {
  z-index: 1;
}

.torch-flickers::before,
.torch-flickers::after {
  content: '';
  position: absolute;
  width: calc(var(--torch-bg-w) * 1.16);
  height: calc(var(--torch-bg-h) * 1.14);
  border-radius: 50%;
  background:
    radial-gradient(ellipse at 50% 50%, rgba(255, 188, 122, 0.56) 0%, rgba(255, 126, 82, 0.3) 30%, rgba(255, 76, 60, 0.14) 55%, rgba(0, 0, 0, 0) 84%),
    radial-gradient(ellipse at 50% 50%, rgba(255, 160, 106, 0.2) 0%, rgba(255, 96, 70, 0.08) 38%, rgba(0, 0, 0, 0) 78%);
  filter: blur(1.6px);
  opacity: 0.57;
  mix-blend-mode: screen;
  transform: translate(-50%, -50%) scale(1);
}

.torch-flickers::before {
  left: var(--torch-bg-left-x);
  top: calc(var(--torch-bg-left-y) + var(--torch-left-offset-y) + var(--torch-y-shift));
  animation: torch-ambient-left 1.42s linear infinite;
  animation-delay: -0.23s;
}

.torch-flickers::after {
  left: var(--torch-bg-right-x);
  top: calc(var(--torch-bg-right-y) + var(--torch-right-offset-y) + var(--torch-y-shift));
  animation: torch-ambient-right 1.67s linear infinite;
  animation-delay: -0.61s;
}

.torch-flickers > span,
.torch-flickers > i {
  display: none;
}

.torch-flickers {
  filter: saturate(1.08) brightness(1.04);
}

.embers-container {
  overflow: hidden;
  mix-blend-mode: screen;
}

.ember {
  position: absolute;
  bottom: -28px;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  opacity: 0;
  animation: ember-rise-var 7s linear infinite;
  background: radial-gradient(circle, rgba(255, 150, 95, 0.95) 0%, rgba(230, 66, 52, 0.66) 50%, transparent 100%);
  filter: blur(0.48px);
}

.ember::after {
  content: '';
  position: absolute;
  inset: -6px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255, 105, 72, 0.48) 0%, transparent 72%);
}

.ember-0,
.ember-6 {
  width: 2px;
  height: 2px;
  filter: blur(0.28px);
}

.ember-1,
.ember-7 {
  width: 5px;
  height: 5px;
  filter: blur(0.66px);
}

.ember-2,
.ember-8 {
  width: 3px;
  height: 3px;
  filter: blur(0.4px);
}

.ember-3,
.ember-9 {
  width: 4px;
  height: 4px;
  filter: blur(0.55px);
}

.ember-4,
.ember-10 {
  width: 6px;
  height: 6px;
  filter: blur(0.74px);
}

.ember-5,
.ember-11 {
  width: 3px;
  height: 3px;
  filter: blur(0.34px);
}

.ember-1,
.ember-4,
.ember-7,
.ember-10 {
  background: radial-gradient(circle, rgba(255, 186, 126, 0.95) 0%, rgba(255, 88, 64, 0.72) 50%, transparent 100%);
}

.ember-3,
.ember-6,
.ember-9 {
  background: radial-gradient(circle, rgba(255, 120, 78, 0.95) 0%, rgba(180, 40, 38, 0.74) 50%, transparent 100%);
}

@keyframes ember-rise-var {
  0% {
    opacity: 0;
    transform: translateY(0) translateX(0) scale(0.72);
  }
  12% {
    opacity: 0.82;
    transform: translateY(-42px) translateX(calc(var(--ember-drift) * 0.09 + var(--ember-sway) * 0.44)) scale(0.9);
  }
  26% {
    opacity: 0.78;
    transform: translateY(-116px) translateX(calc(var(--ember-drift) * 0.2 - var(--ember-sway) * 0.26)) scale(0.88);
  }
  41% {
    opacity: 0.7;
    transform: translateY(-206px) translateX(calc(var(--ember-drift) * 0.36 + var(--ember-sway) * 0.52)) scale(0.84);
  }
  58% {
    opacity: 0.56;
    transform: translateY(-312px) translateX(calc(var(--ember-drift) * 0.54 - var(--ember-sway) * 0.22)) scale(0.76);
  }
  76% {
    opacity: 0.38;
    transform: translateY(-430px) translateX(calc(var(--ember-drift) * 0.72 + var(--ember-sway) * 0.36)) scale(0.68);
  }
  100% {
    opacity: 0;
    transform: translateY(-590px) translateX(calc(var(--ember-drift) * 0.88 - var(--ember-sway) * 0.14)) scale(0.58);
  }
}

@keyframes glow-breathe {
  0%,
  100% {
    opacity: 0.5;
  }
  50% {
    opacity: 0.76;
  }
}

@keyframes torch-flicker {
  0%,
  100% {
    opacity: 0.62;
    transform: scale(0.9) translateY(calc(var(--torch-base-y) + 4px));
    filter: blur(1px) brightness(0.95);
  }
  18% {
    opacity: 1;
    transform: scale(1.15) translateY(calc(var(--torch-base-y) - 4px));
    filter: blur(1.6px) brightness(1.3);
  }
  34% {
    opacity: 0.52;
    transform: scale(0.86) translateY(calc(var(--torch-base-y) + 5px));
    filter: blur(0.9px) brightness(0.84);
  }
  52% {
    opacity: 1;
    transform: scale(1.2) translateY(calc(var(--torch-base-y) - 6px));
    filter: blur(1.8px) brightness(1.36);
  }
  76% {
    opacity: 0.7;
    transform: scale(0.96) translateY(calc(var(--torch-base-y) + 2px));
    filter: blur(1.2px) brightness(0.98);
  }
}

@keyframes torch-ambient-left {
  0% {
    opacity: 0.5;
    transform: translate(-50%, -50%) scale(0.98);
  }
  13% {
    opacity: 0.72;
    transform: translate(-50%, -50%) scale(1.08);
  }
  29% {
    opacity: 0.55;
    transform: translate(-50%, -50%) scale(1);
  }
  44% {
    opacity: 0.78;
    transform: translate(-50%, -50%) scale(1.1);
  }
  58% {
    opacity: 0.52;
    transform: translate(-50%, -50%) scale(0.96);
  }
  73% {
    opacity: 0.7;
    transform: translate(-50%, -50%) scale(1.06);
  }
  100% {
    opacity: 0.54;
    transform: translate(-50%, -50%) scale(0.99);
  }
}

@keyframes torch-ambient-right {
  0% {
    opacity: 0.52;
    transform: translate(-50%, -50%) scale(0.99);
  }
  11% {
    opacity: 0.68;
    transform: translate(-50%, -50%) scale(1.05);
  }
  27% {
    opacity: 0.56;
    transform: translate(-50%, -50%) scale(0.98);
  }
  41% {
    opacity: 0.66;
    transform: translate(-50%, -50%) scale(1.03);
  }
  56% {
    opacity: 0.8;
    transform: translate(-50%, -50%) scale(1.11);
  }
  68% {
    opacity: 0.5;
    transform: translate(-50%, -50%) scale(0.95);
  }
  84% {
    opacity: 0.67;
    transform: translate(-50%, -50%) scale(1.03);
  }
  100% {
    opacity: 0.55;
    transform: translate(-50%, -50%) scale(1);
  }
}

@keyframes candle-flicker {
  0%,
  100% {
    filter: brightness(0.88);
  }
  16% {
    filter: brightness(0.82);
  }
  36% {
    filter: brightness(0.96);
  }
  58% {
    filter: brightness(0.8);
  }
  76% {
    filter: brightness(0.9);
  }
}

.portal-field {
  width: min(420px, 94vw);
  min-height: 560px;
  position: absolute;
  left: 50%;
  top: 45%;
  transform: translate(-50%, -50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  padding: 42px 24px 34px;
  z-index: 2;
  background: transparent;
  color: var(--ink);
  border-radius: 2px;
  border: 1px solid transparent;
  overflow: hidden;
  box-shadow: none;
}

.portal-shell {
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: 2px;
  border: 1px solid rgba(156, 116, 126, 0.34);
  background:
    radial-gradient(120% 80% at 50% 0%, rgba(255, 130, 110, 0.06) 0%, transparent 62%),
    radial-gradient(90% 68% at 10% 18%, rgba(130, 96, 112, 0.1) 0%, transparent 76%),
    repeating-linear-gradient(12deg, rgba(188, 140, 138, 0.018) 0 1px, transparent 1px 4px),
    linear-gradient(180deg, var(--panel-top) 0%, var(--panel-mid) 56%, var(--panel-bot) 100%);
  box-shadow:
    0 0 22px rgba(185, 102, 110, 0.15),
    0 0 56px rgba(128, 74, 88, 0.12),
    inset 0 0 58px rgba(0, 0, 0, 0.44),
    inset 0 12px 16px rgba(232, 184, 172, 0.02),
    inset 0 -18px 28px rgba(0, 0, 0, 0.5);
}

.school-runes {
  position: absolute;
  inset: 8px;
  z-index: 0;
  pointer-events: none;
  --rune-cx: -8px;
  --rune-cy: 126px;
  --rune-r: 130px;
}

.school-rune {
  position: absolute;
  width: clamp(24px, 6.4vw, 34px);
  height: clamp(24px, 6.4vw, 34px);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0.32;
  mix-blend-mode: soft-light;
  transform: translate(-50%, -50%);
  transition: opacity 0.35s ease, filter 0.35s ease;
}

.school-rune-toggle {
  pointer-events: auto;
  cursor: pointer;
}

.school-rune-toggle:focus-visible {
  outline: 1px solid rgba(236, 214, 168, 0.62);
  outline-offset: 2px;
}

.school-rune-toggle-active::after {
  opacity: 0.7;
}

.school-rune::before,
.school-rune::after {
  content: '';
  position: absolute;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.35s ease, filter 0.35s ease, background 0.35s ease;
}

.school-symbol-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: grayscale(1) sepia(0.28) brightness(0.92) contrast(1.05)
    drop-shadow(0 1px 0 rgba(255, 224, 196, 0.14))
    drop-shadow(0 -1px 0 rgba(0, 0, 0, 0.4));
  transition: opacity 0.35s ease, filter 0.35s ease;
}

.school-rune-1 { left: calc(var(--rune-cx) + (var(--rune-r) * 0.383)); top: calc(var(--rune-cy) - (var(--rune-r) * 0.924)); }
.school-rune-2 { left: calc(var(--rune-cx) + (var(--rune-r) * 0.924)); top: calc(var(--rune-cy) - (var(--rune-r) * 0.383)); }
.school-rune-3 { left: calc(var(--rune-cx) + (var(--rune-r) * 0.924)); top: calc(var(--rune-cy) + (var(--rune-r) * 0.383)); }
.school-rune-4 { left: calc(var(--rune-cx) + (var(--rune-r) * 0.383)); top: calc(var(--rune-cy) + (var(--rune-r) * 0.924)); }
.school-rune-5 { left: calc(var(--rune-cx) - (var(--rune-r) * 0.383)); top: calc(var(--rune-cy) + (var(--rune-r) * 0.924)); }
.school-rune-6 { left: calc(var(--rune-cx) - (var(--rune-r) * 0.924)); top: calc(var(--rune-cy) + (var(--rune-r) * 0.383)); }
.school-rune-7 { left: calc(var(--rune-cx) - (var(--rune-r) * 0.924)); top: calc(var(--rune-cy) - (var(--rune-r) * 0.383)); }
.school-rune-8 { left: calc(var(--rune-cx) - (var(--rune-r) * 0.383)); top: calc(var(--rune-cy) - (var(--rune-r) * 0.924)); }

.school-rune-3 .school-symbol-image,
.school-rune-7 .school-symbol-image {
  width: 94%;
  height: 94%;
}

.school-rune-1 .school-symbol-image,
.school-rune-5 .school-symbol-image {
  width: 96%;
  height: 96%;
}

.school-rune-2,
.school-rune-4,
.school-rune-6,
.school-rune-8 {
  opacity: 0.26;
}

.school-rune-1,
.school-rune-3,
.school-rune-5,
.school-rune-7 {
  opacity: 0.36;
}

.school-rune-active {
  opacity: 0.9;
  mix-blend-mode: normal;
  animation: active-rune-pulse 2.2s ease-in-out infinite;
}

.school-rune-active .school-symbol-image {
  opacity: 0.2;
  filter: grayscale(1) brightness(0.62) contrast(1.1);
}

.school-rune-active::before {
  inset: 0;
  opacity: 0.98;
  background: linear-gradient(180deg, rgba(255, 248, 206, 1) 0%, rgba(255, 224, 142, 0.96) 38%, rgba(245, 179, 72, 0.94) 72%, rgba(221, 144, 42, 0.92) 100%);
  -webkit-mask-image: var(--rune-src);
  mask-image: var(--rune-src);
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-position: center;
  mask-position: center;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  animation: active-rune-fill-pulse 2.2s ease-in-out infinite;
}

.school-rune-active::after {
  inset: -3px;
  opacity: 0.56;
  background: radial-gradient(circle, rgba(255, 221, 136, 0.82) 0%, rgba(248, 181, 75, 0.54) 44%, rgba(214, 126, 34, 0.24) 68%, rgba(0, 0, 0, 0) 82%);
  -webkit-mask-image: var(--rune-src);
  mask-image: var(--rune-src);
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-position: center;
  mask-position: center;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  filter: blur(2.2px);
  animation: active-rune-glow-pulse 2.2s ease-in-out infinite;
}

.school-rune-div.school-rune-toggle-active {
  animation: none;
  opacity: 0.94;
}

.school-rune-div.school-rune-toggle-active .school-symbol-image {
  opacity: 0.16;
  filter: grayscale(1) brightness(0.52) contrast(1.08);
}

.school-rune-div.school-rune-toggle-active::before {
  animation: none;
  opacity: 1;
  background: linear-gradient(180deg, rgba(210, 255, 220, 1) 0%, rgba(146, 244, 171, 0.96) 38%, rgba(82, 206, 122, 0.94) 72%, rgba(36, 146, 82, 0.92) 100%);
}

.school-rune-div.school-rune-toggle-active::after {
  animation: none;
  opacity: 0.66;
  background: radial-gradient(circle, rgba(172, 255, 194, 0.92) 0%, rgba(92, 232, 136, 0.66) 44%, rgba(28, 154, 82, 0.3) 70%, rgba(0, 0, 0, 0) 84%);
  filter: blur(2.4px);
}

.school-rune-abj.school-rune-abj-burst {
  animation: abjuration-fail-burst 0.78s ease-out 1;
}

.school-rune-abj.school-rune-abj-burst::before {
  animation: abjuration-fail-fill-burst 0.78s ease-out 1;
}

.school-rune-abj.school-rune-abj-burst::after {
  animation: abjuration-fail-glow-burst 0.78s ease-out 1;
}

.login-container.login-success-transition .school-rune-abj {
  mix-blend-mode: normal;
  animation: success-abjuration-fade-out 1.32s ease-out forwards;
}

.login-container.login-success-transition .school-rune-abj .school-symbol-image {
  animation: success-abjuration-image-fade-out 1.32s ease-out forwards;
}

.login-container.login-success-transition .school-rune-abj::before {
  inset: 0;
  opacity: 0;
  background: linear-gradient(180deg, rgba(255, 248, 206, 1) 0%, rgba(255, 224, 142, 0.96) 38%, rgba(245, 179, 72, 0.94) 72%, rgba(221, 144, 42, 0.92) 100%);
  -webkit-mask-image: var(--rune-src);
  mask-image: var(--rune-src);
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-position: center;
  mask-position: center;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  animation: success-abjuration-fill-fade-out 1.32s ease-out forwards;
}

.login-container.login-success-transition .school-rune-abj::after {
  inset: -3px;
  opacity: 0;
  background: radial-gradient(circle, rgba(255, 221, 136, 0.82) 0%, rgba(248, 181, 75, 0.54) 44%, rgba(214, 126, 34, 0.24) 68%, rgba(0, 0, 0, 0) 82%);
  -webkit-mask-image: var(--rune-src);
  mask-image: var(--rune-src);
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-position: center;
  mask-position: center;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  animation: success-abjuration-glow-fade-out 1.32s ease-out forwards;
}

.login-container.login-success-transition .school-rune-con.school-rune-active {
  mix-blend-mode: normal;
  animation: success-conjuration-fade-in 0.72s ease-out 1.32s both;
}

.login-container.login-success-transition .school-rune-con.school-rune-active .school-symbol-image {
  animation: success-conjuration-image-fade-in 0.72s ease-out 1.32s both;
}

.login-container.login-success-transition .school-rune-con.school-rune-active::before {
  animation: success-conjuration-fill-fade-in 0.72s ease-out 1.32s both;
}

.login-container.login-success-transition .school-rune-con.school-rune-active::after {
  animation: success-conjuration-glow-fade-in 0.72s ease-out 1.32s both;
}

@keyframes active-rune-pulse {
  0%,
  100% {
    opacity: 0.84;
  }
  50% {
    opacity: 0.98;
  }
}

@keyframes active-rune-fill-pulse {
  0%,
  100% {
    opacity: 0.9;
    filter: brightness(0.98) saturate(1);
  }
  50% {
    opacity: 1;
    filter: brightness(1.08) saturate(1.1);
  }
}

@keyframes active-rune-glow-pulse {
  0%,
  100% {
    opacity: 0.42;
    filter: blur(2px);
  }
  50% {
    opacity: 0.62;
    filter: blur(2.8px);
  }
}

@keyframes abjuration-fail-burst {
  0%,
  100% {
    opacity: 0.84;
  }
  10%,
  28%,
  46% {
    opacity: 1;
  }
  18%,
  36%,
  58% {
    opacity: 0.66;
  }
}

@keyframes abjuration-fail-fill-burst {
  0%,
  100% {
    background: linear-gradient(180deg, rgba(255, 246, 198, 0.95) 0%, rgba(246, 177, 68, 0.92) 72%, rgba(223, 142, 40, 0.9) 100%);
    opacity: 0.92;
  }
  10%,
  28%,
  46% {
    background: linear-gradient(180deg, rgba(255, 188, 188, 1) 0%, rgba(255, 94, 94, 0.98) 48%, rgba(218, 32, 44, 0.96) 100%);
    opacity: 1;
  }
  18%,
  36%,
  58% {
    background: linear-gradient(180deg, rgba(255, 164, 164, 0.92) 0%, rgba(236, 62, 74, 0.9) 52%, rgba(170, 24, 36, 0.88) 100%);
    opacity: 0.84;
  }
}

@keyframes abjuration-fail-glow-burst {
  0%,
  100% {
    opacity: 0.46;
    filter: blur(2.2px);
    background: radial-gradient(circle, rgba(255, 221, 136, 0.82) 0%, rgba(248, 181, 75, 0.54) 44%, rgba(214, 126, 34, 0.24) 68%, rgba(0, 0, 0, 0) 82%);
  }
  10%,
  28%,
  46% {
    opacity: 0.9;
    filter: blur(3.4px);
    background: radial-gradient(circle, rgba(255, 158, 158, 0.95) 0%, rgba(245, 70, 86, 0.8) 42%, rgba(174, 22, 34, 0.48) 68%, rgba(0, 0, 0, 0) 84%);
  }
  18%,
  36%,
  58% {
    opacity: 0.54;
    filter: blur(2.6px);
    background: radial-gradient(circle, rgba(255, 138, 138, 0.74) 0%, rgba(223, 52, 68, 0.58) 46%, rgba(152, 18, 30, 0.32) 72%, rgba(0, 0, 0, 0) 86%);
  }
}

@keyframes success-abjuration-fade-out {
  0% {
    opacity: 0.9;
  }
  44% {
    opacity: 0.9;
  }
  100% {
    opacity: 0.3;
  }
}

@keyframes success-abjuration-image-fade-out {
  0% {
    opacity: 0.2;
    filter: grayscale(1) brightness(0.62) contrast(1.1);
  }
  44% {
    opacity: 0.2;
    filter: grayscale(1) brightness(0.62) contrast(1.1);
  }
  100% {
    opacity: 1;
    filter: grayscale(1) sepia(0.28) brightness(0.92) contrast(1.05)
      drop-shadow(0 1px 0 rgba(255, 224, 196, 0.14))
      drop-shadow(0 -1px 0 rgba(0, 0, 0, 0.4));
  }
}

@keyframes success-abjuration-fill-fade-out {
  0% {
    opacity: 0.98;
    filter: brightness(1.02) saturate(1.08);
    background: linear-gradient(180deg, rgba(255, 248, 206, 1) 0%, rgba(255, 224, 142, 0.96) 38%, rgba(245, 179, 72, 0.94) 72%, rgba(221, 144, 42, 0.92) 100%);
  }
  12% {
    opacity: 1;
    filter: brightness(1.1) saturate(1.18);
    background: linear-gradient(180deg, rgba(214, 255, 222, 1) 0%, rgba(138, 242, 164, 0.98) 38%, rgba(72, 204, 118, 0.96) 72%, rgba(32, 142, 84, 0.94) 100%);
  }
  42% {
    opacity: 1;
    filter: brightness(1.04) saturate(1.1);
    background: linear-gradient(180deg, rgba(204, 255, 216, 1) 0%, rgba(126, 236, 154, 0.96) 38%, rgba(66, 196, 112, 0.94) 72%, rgba(30, 136, 80, 0.92) 100%);
  }
  68% {
    opacity: 0.9;
    filter: brightness(1) saturate(1.02);
    background: linear-gradient(180deg, rgba(255, 248, 206, 1) 0%, rgba(255, 224, 142, 0.96) 38%, rgba(245, 179, 72, 0.94) 72%, rgba(221, 144, 42, 0.92) 100%);
  }
  100% {
    opacity: 0;
    filter: brightness(0.92) saturate(0.88);
    background: linear-gradient(180deg, rgba(255, 248, 206, 1) 0%, rgba(255, 224, 142, 0.96) 38%, rgba(245, 179, 72, 0.94) 72%, rgba(221, 144, 42, 0.92) 100%);
  }
}

@keyframes success-abjuration-glow-fade-out {
  0% {
    opacity: 0.46;
    filter: blur(2px);
    background: radial-gradient(circle, rgba(255, 221, 136, 0.82) 0%, rgba(248, 181, 75, 0.54) 44%, rgba(214, 126, 34, 0.24) 68%, rgba(0, 0, 0, 0) 82%);
  }
  12% {
    opacity: 0.72;
    filter: blur(2.9px);
    background: radial-gradient(circle, rgba(186, 255, 206, 0.96) 0%, rgba(104, 244, 148, 0.74) 44%, rgba(38, 164, 94, 0.32) 72%, rgba(0, 0, 0, 0) 86%);
  }
  44% {
    opacity: 0.58;
    filter: blur(2.6px);
    background: radial-gradient(circle, rgba(172, 248, 194, 0.9) 0%, rgba(92, 226, 136, 0.64) 44%, rgba(34, 154, 88, 0.28) 72%, rgba(0, 0, 0, 0) 86%);
  }
  70% {
    opacity: 0.52;
    filter: blur(2.4px);
    background: radial-gradient(circle, rgba(255, 221, 136, 0.82) 0%, rgba(248, 181, 75, 0.54) 44%, rgba(214, 126, 34, 0.24) 68%, rgba(0, 0, 0, 0) 82%);
  }
  100% {
    opacity: 0;
    filter: blur(1.2px);
    background: radial-gradient(circle, rgba(255, 221, 136, 0.82) 0%, rgba(248, 181, 75, 0.54) 44%, rgba(214, 126, 34, 0.24) 68%, rgba(0, 0, 0, 0) 82%);
  }
}

@keyframes success-conjuration-fade-in {
  0% {
    opacity: 0.26;
  }
  100% {
    opacity: 0.9;
  }
}

@keyframes success-conjuration-image-fade-in {
  0% {
    opacity: 1;
    filter: grayscale(1) sepia(0.28) brightness(0.92) contrast(1.05)
      drop-shadow(0 1px 0 rgba(255, 224, 196, 0.14))
      drop-shadow(0 -1px 0 rgba(0, 0, 0, 0.4));
  }
  100% {
    opacity: 0.2;
    filter: grayscale(1) brightness(0.62) contrast(1.1);
  }
}

@keyframes success-conjuration-fill-fade-in {
  0% {
    opacity: 0;
    filter: brightness(0.94) saturate(0.92);
  }
  100% {
    opacity: 0.98;
    filter: brightness(1.01) saturate(1.02);
  }
}

@keyframes success-conjuration-glow-fade-in {
  0% {
    opacity: 0;
    filter: blur(1.2px);
  }
  100% {
    opacity: 0.56;
    filter: blur(2.2px);
  }
}

.portal-field::before {
  content: '';
  position: absolute;
  inset: -22px;
  background: radial-gradient(circle, rgba(226, 118, 108, 0.14) 0%, rgba(0, 0, 0, 0) 72%);
  opacity: 0.42;
  pointer-events: none;
  z-index: -1;
}

.portal-field::after {
  content: '';
  position: absolute;
  inset: 10px;
  border-radius: 1px;
  border: 1px solid rgba(162, 120, 128, 0.24);
  box-shadow: inset 0 0 0 1px rgba(82, 60, 72, 0.42);
  background:
    radial-gradient(circle at 15% 24%, rgba(232, 184, 170, 0.06) 0%, transparent 20%),
    radial-gradient(circle at 76% 70%, rgba(196, 146, 136, 0.05) 0%, transparent 18%),
    linear-gradient(0deg, rgba(0, 0, 0, 0.2), transparent 34%);
  pointer-events: none;
}

.portal-field > :not(.portal-shell) {
  position: relative;
  z-index: 1;
}

.portal-field > .school-runes {
  z-index: 1;
}

.portal-field > .portal-shell {
  z-index: 0;
}

.candlekeep-emblem {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.crest-submit {
  appearance: none;
  border: none;
  background: transparent;
  padding: 0;
  cursor: not-allowed;
  opacity: 0.72;
  transition: transform 0.2s ease, opacity 0.2s ease, filter 0.2s ease;
}

.crest-submit:disabled {
  cursor: not-allowed;
}

.crest-submit.ready {
  cursor: pointer;
  opacity: 1;
  animation: crest-ready 1.35s ease-in-out infinite;
}

.crest-submit.ready:hover {
  transform: scale(1.03);
}

.candlekeep-emblem::before {
  content: '';
  position: absolute;
  width: 220px;
  height: 220px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255, 140, 106, 0.52) 0%, rgba(215, 58, 66, 0.14) 44%, transparent 72%);
  filter: blur(2px);
  pointer-events: none;
}

.crest-image {
  width: 186px;
  height: auto;
  filter: drop-shadow(0 0 28px rgba(255, 136, 104, 0.86));
}

.crest-submit.ready .crest-image {
  filter:
    drop-shadow(0 0 20px rgba(255, 220, 162, 0.82))
    drop-shadow(0 0 34px rgba(255, 132, 96, 0.95));
}

@keyframes crest-ready {
  0%,
  100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
}

.login-form {
  display: flex;
  flex-direction: column;
  gap: 14px;
  width: 100%;
  align-items: center;
  margin-top: 44px;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 2px;
  width: 100%;
  max-width: 266px;
}

.form-group label {
  display: none;
}

.form-group input {
  padding: 10px 0 8px 0;
  border: none;
  border-bottom: 1px solid rgba(184, 146, 94, 0.52);
  font-size: 20px;
  font-family: 'Cinzel', serif;
  font-style: italic;
  letter-spacing: 0.2px;
  background: transparent;
  color: rgba(236, 198, 132, 0.94);
  transition: border-color 0.2s ease;
  text-align: center;
  text-shadow: none;
}

.form-group input::placeholder {
  color: rgba(198, 164, 108, 0.46);
}

.form-group input:focus {
  outline: none;
  border-bottom-color: rgba(228, 186, 122, 0.84);
}

.form-group input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.form-group input:-webkit-autofill,
.form-group input:-webkit-autofill:hover,
.form-group input:-webkit-autofill:focus,
.form-group input:autofill {
  -webkit-text-fill-color: rgba(236, 198, 132, 0.94);
  caret-color: rgba(236, 198, 132, 0.94);
  background-color: transparent !important;
  -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
  box-shadow: 0 0 0 1000px transparent inset !important;
  border-bottom-color: rgba(228, 186, 122, 0.84);
  transition: background-color 9999s ease-out 0s, color 9999s ease-out 0s;
}

.login-button {
  padding: 12px 16px;
  background: linear-gradient(180deg, #cf4d57 0%, #b53a47 56%, #912633 100%);
  color: #f8ede4;
  border: 1px solid rgba(255, 152, 136, 0.5);
  border-radius: 4px;
  font-size: 18px;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.12s ease, box-shadow 0.2s ease, opacity 0.2s ease;
  font-family: 'Cinzel', serif;
  letter-spacing: 0.3px;
  width: 100%;
  max-width: 266px;
  box-shadow:
    0 0 18px rgba(230, 72, 74, 0.42),
    inset 0 1px 0 rgba(255, 184, 170, 0.48);
}

.login-button:hover:not(:disabled) {
  box-shadow:
    0 0 24px rgba(238, 80, 78, 0.5),
    inset 0 1px 0 rgba(255, 196, 184, 0.54);
}

.login-button:active:not(:disabled) {
  transform: translateY(1px);
  box-shadow:
    0 0 10px rgba(215, 62, 66, 0.28),
    inset 0 1px 0 rgba(255, 166, 154, 0.34);
}

.login-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.login-footnote {
  margin: 36px 0 0 0;
  font-size: 22px;
  letter-spacing: 0.3px;
  color: rgba(172, 172, 172, 0.42);
  font-style: italic;
  font-weight: 600;
  font-family: 'Cinzel', serif;
  text-shadow:
    0 1px 0 rgba(220, 220, 220, 0.08),
    0 -1px 0 rgba(0, 0, 0, 0.4);
  text-align: center;
}

.footnote-authorised.is-success,
.footnote-seeker.is-success {
  animation: footnote-green-surge 1.4s ease-out 1 forwards;
}

.footnote-hot {
  color: inherit;
}

.footnote-hot.is-flashing {
  animation: footnote-red-flash 0.85s ease-out 1 forwards;
}

@keyframes footnote-red-flash {
  0% {
    color: rgba(172, 172, 172, 0.42);
    text-shadow:
      0 1px 0 rgba(220, 220, 220, 0.08),
      0 -1px 0 rgba(0, 0, 0, 0.4);
  }
  35% {
    color: rgba(255, 128, 128, 0.96);
    text-shadow:
      0 0 8px rgba(255, 88, 88, 0.6),
      0 0 18px rgba(220, 44, 58, 0.46),
      0 0 28px rgba(154, 16, 28, 0.28);
  }
  100% {
    color: rgba(255, 128, 128, 0.96);
    text-shadow:
      0 0 8px rgba(255, 88, 88, 0.6),
      0 0 18px rgba(220, 44, 58, 0.46),
      0 0 28px rgba(154, 16, 28, 0.28);
  }
}

@keyframes footnote-green-surge {
  0% {
    color: rgba(172, 172, 172, 0.42);
    text-shadow:
      0 1px 0 rgba(220, 220, 220, 0.08),
      0 -1px 0 rgba(0, 0, 0, 0.4);
  }
  35% {
    color: rgba(176, 255, 186, 0.96);
    text-shadow:
      0 0 8px rgba(124, 255, 154, 0.62),
      0 0 18px rgba(54, 220, 108, 0.46),
      0 0 28px rgba(22, 134, 64, 0.28);
  }
  100% {
    color: rgba(176, 255, 186, 0.96);
    text-shadow:
      0 0 8px rgba(124, 255, 154, 0.62),
      0 0 18px rgba(54, 220, 108, 0.46),
      0 0 28px rgba(22, 134, 64, 0.28);
  }
}

@keyframes login-success-world-dim {
  0% {
    filter: brightness(1) saturate(1);
  }
  48% {
    filter: brightness(0.78) saturate(0.84) blur(0.72px);
  }
  100% {
    filter: brightness(0.36) saturate(0.58) blur(1.4px);
  }
}

@keyframes login-success-plate-exit {
  0% {
    transform: translate(-50%, -50%) scale(1);
    border-color: rgba(156, 116, 126, 0.34);
    box-shadow:
      0 0 22px rgba(185, 102, 110, 0.15),
      0 0 56px rgba(128, 74, 88, 0.12),
      inset 0 0 58px rgba(0, 0, 0, 0.44),
      inset 0 12px 16px rgba(232, 184, 172, 0.02),
      inset 0 -18px 28px rgba(0, 0, 0, 0.5);
  }
  18% {
    border-color: rgba(0, 0, 0, 0);
    box-shadow: none;
    background:
      radial-gradient(120% 80% at 50% 0%, rgba(255, 130, 110, 0) 0%, transparent 62%),
      radial-gradient(90% 68% at 10% 18%, rgba(130, 96, 112, 0) 0%, transparent 76%),
      repeating-linear-gradient(12deg, rgba(188, 140, 138, 0) 0 1px, transparent 1px 4px),
      linear-gradient(180deg, rgba(36, 33, 41, 0) 0%, rgba(26, 24, 32, 0) 56%, rgba(18, 16, 25, 0) 100%);
  }
  56% {
    transform: translate(-50%, -50.9%) scale(0.996);
  }
  100% {
    transform: translate(-50%, -51.4%) scale(0.99);
    border-color: rgba(0, 0, 0, 0);
    box-shadow: none;
    background:
      radial-gradient(120% 80% at 50% 0%, rgba(255, 130, 110, 0) 0%, transparent 62%),
      radial-gradient(90% 68% at 10% 18%, rgba(130, 96, 112, 0) 0%, transparent 76%),
      repeating-linear-gradient(12deg, rgba(188, 140, 138, 0) 0 1px, transparent 1px 4px),
      linear-gradient(180deg, rgba(36, 33, 41, 0) 0%, rgba(26, 24, 32, 0) 56%, rgba(18, 16, 25, 0) 100%);
  }
}

@keyframes login-success-overlay {
  0% {
    opacity: 0;
  }
  36% {
    opacity: 0.38;
  }
  74% {
    opacity: 0.62;
  }
  100% {
    opacity: 0.08;
  }
}

@keyframes login-success-fade-away {
  0% {
    opacity: 1;
    filter: brightness(1) saturate(1);
  }
  32% {
    opacity: 0.96;
    filter: brightness(1.16) saturate(1.2);
  }
  72% {
    opacity: 0.34;
    filter: brightness(0.92) saturate(0.9);
  }
  100% {
    opacity: 0;
    filter: brightness(0.78) saturate(0.74);
  }
}

@keyframes login-success-gold-plume {
  0% {
    opacity: 0;
    transform: translateY(44%);
  }
  24% {
    opacity: 0.44;
    transform: translateY(26%);
  }
  56% {
    opacity: 0.72;
    transform: translateY(8%);
  }
  82% {
    opacity: 0.82;
    transform: translateY(-10%);
  }
  100% {
    opacity: 0;
    transform: translateY(-30%);
  }
}

@keyframes login-success-fire-sheet-rise {
  0% {
    opacity: 0;
    transform: translateY(100%);
  }
  10% {
    opacity: 1;
    transform: translateY(90%);
  }
  84% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translateY(0);
  }
}

@keyframes login-success-fire-front-flicker {
  0% {
    filter: saturate(1.04) brightness(0.98) blur(0.52px);
    background-position: 0 0;
  }
  50% {
    filter: saturate(1.18) brightness(1.14) blur(0.34px);
    background-position: 0 -4px;
  }
  100% {
    filter: saturate(1.08) brightness(1.02) blur(0.44px);
    background-position: 0 -1px;
  }
}

@keyframes login-success-disintegrate {
  0% {
    opacity: 1;
    filter: brightness(1) saturate(1) blur(0);
    transform: translateY(0) scale(1);
  }
  28% {
    opacity: 1;
    filter: brightness(1.26) saturate(1.28) blur(0.35px);
    transform: translateY(-2px) scale(1.002);
  }
  62% {
    opacity: 0.56;
    filter: brightness(0.94) saturate(0.88) blur(0.9px);
    transform: translateY(-5px) scale(0.998);
  }
  100% {
    opacity: 0;
    filter: brightness(0.74) saturate(0.68) blur(1.2px);
    transform: translateY(-8px) scale(0.994);
  }
}

@keyframes login-success-noncrest-fade {
  0% {
    opacity: 1;
  }
  42% {
    opacity: 0.72;
  }
  100% {
    opacity: 0;
  }
}

@keyframes login-success-backdrop-fill {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

@keyframes login-success-embers-hold {
  0% {
    opacity: 1;
    filter: brightness(1) saturate(1);
  }
  50% {
    opacity: 1;
    filter: brightness(1.22) saturate(1.24);
  }
  100% {
    opacity: 0.94;
    filter: brightness(1.08) saturate(1.06);
  }
}

@keyframes login-success-crest-hold {
  0% {
    opacity: 1;
    transform: scale(1);
    filter: brightness(1) saturate(1);
  }
  44% {
    opacity: 1;
    transform: scale(1.032);
    filter: brightness(1.14) saturate(1.12);
  }
  100% {
    opacity: 1;
    transform: scale(1.018);
    filter: brightness(1.06) saturate(1.04);
  }
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}


